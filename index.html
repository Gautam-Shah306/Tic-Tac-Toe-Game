<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic Tac Toe - Futurum Edition</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Sans Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* Applying Google Sans as the default font */
        body {
            font-family: 'Google Sans', sans-serif;
        }

        .game-heading {
            color: white;
        }

        /* Neon Glow Effect for X */
        /* .text-glow-x {
            color: #00f7ff;
            text-shadow:
                0 0 1px #00f7ff,
                0 0 2px #00f7ff,
                0 0 5px #00f7ff,
                0 0 10px #00b3ff,
                0 0 20px #00b3ff;
        } */

        .text-glow-x {
            color: #00f7ff;
            text-shadow:
                0 0 0.5px #00f7ff,
                0 0 1px #00f7ff,
                0 0 3px #00f7ff,
                0 0 6px #00b3ff,
                0 0 10px #00b3ff;
        }

        /* Neon Glow Effect for O */
        /* .text-glow-o {
            color: #ff00ff;
            text-shadow:
                0 0 1px #ff00ff,
                0 0 2px #ff00ff,
                0 0 5px #ff00ff,
                0 0 10px #f09,
                0 0 20px #f09;
        } */

        .text-glow-o {
            color: #ff00ff;
            text-shadow:
                0 0 0.5px #ff00ff,
                0 0 1px #ff00ff,
                0 0 3px #ff00ff,
                0 0 6px #f09,
                0 0 10px #f09;
        }

        /* Animation for marking a cell */
        @keyframes mark-cell {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .marked {
            animation: mark-cell 0.3s ease-out forwards;
        }

        /* Animation for the winning cells */
        @keyframes win-glow {
            0% {
                background-color: rgba(255, 255, 255, 0.1);
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
            }
            50% {
                background-color: rgba(255, 255, 255, 0.3);
                box-shadow: 0 0 30px rgba(255, 255, 255, 0.6);
            }
            100% {
                background-color: rgba(255, 255, 255, 0.1);
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
            }
        }

        .winning-cell {
            animation: win-glow 1.5s infinite ease-in-out;
        }
        
        /* Animation for board appearing */
        @keyframes board-appear {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        .board-animation {
            animation: board-appear 0.5s ease-out forwards;
        }
    </style>
</head>

<body class="bg-[#1a1a2e] text-white flex flex-col items-center justify-center min-h-screen p-4">

    <!-- Game Title -->
    <h1 class="text-5xl font-bold mb-2 game-heading">Tic Tac Toe</h1>
    <!-- <p class="text-lg text-gray-400 mb-8">Futurum Edition</p> -->

    <!-- Game Status Display -->
    <div id="status" class="text-2xl mb-6 mt-6 h-8 transition-opacity duration-300 ease-in-out"></div>

    <!-- Game Board -->
    <div id="game-container" class="grid grid-cols-3 gap-3 p-3 rounded-lg bg-black bg-opacity-20 border border-gray-700/0 board-animation">
        <!-- Cells will be generated by JS but shown here for structure -->
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="0"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="1"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="2"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="3"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="4"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="5"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="6"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="7"></div>
        <div class="cell w-24 h-24 md:w-28 md:h-28 flex items-center justify-center text-6xl font-bold cursor-pointer bg-gray-900 bg-opacity-50 rounded-lg transition-colors duration-200 hover:bg-gray-800" data-index="8"></div>
    </div>
    
    <!-- Game Over Modal -->
    <div id="result-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden transition-opacity duration-300 ease-in-out">
        <div id="result-modal-box" class="bg-[#1a1a2e] border-2 border-cyan-500 shadow-lg shadow-cyan-500/20 rounded-xl p-8 text-center flex flex-col items-center gap-6">
            <h2 id="result-message" class="text-4xl font-bold"></h2>
            <button id="play-again" onclick="resetGame()" class="px-8 py-3 bg-transparent border-2 border-pink-500 text-pink-500 font-semibold rounded-lg hover:bg-pink-500 hover:text-white transition-all duration-300 shadow-lg shadow-pink-500/20">
                Play Again
            </button>
        </div>
    </div>


    <script>
        // --- DOM Elements ---
        const cells = document.querySelectorAll(".cell");
        const statusText = document.getElementById("status");
        const resultModal = document.getElementById("result-modal");
        const resultMessage = document.getElementById("result-message");
        const resultModalBox = document.getElementById("result-modal-box");
        const playAgain = document.getElementById("play-again");

        // --- Game State ---
        let currentPlayer = "X";
        let board = ["", "", "", "", "", "", "", "", ""];
        let gameActive = true;

        const winningCombos = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
            [0, 4, 8], [2, 4, 6]             // diagonals
        ];

        // --- Functions ---

        /**
         * Initializes the game or resets it to the initial state.
         */
        function initializeGame() {
            board = ["", "", "", "", "", "", "", "", ""];
            currentPlayer = "X";
            gameActive = true;

            // Clear visual board and animations
            cells.forEach(cell => {
                cell.textContent = "";
                cell.classList.remove("text-glow-x", "text-glow-o", "marked", "winning-cell");
            });

            // Hide modal and update status
            resultModal.classList.add("hidden");
            updateStatus();
        }

        /**
         * Handles a click on a cell.
         * @param {Event} e The click event.
         */
        function handleCellClick(e) {
            const index = e.target.dataset.index;

            if (board[index] !== "" || !gameActive) {
                return;
            }

            // Update state and UI
            board[index] = currentPlayer;
            e.target.textContent = currentPlayer;
            e.target.classList.add('marked', currentPlayer === "X" ? 'text-glow-x' : 'text-glow-o');
            
            checkResult();
        }

        /**
         * Checks the board for a win, draw, or continues the game.
         */
        function checkResult() {
            let roundWon = false;
            let winningCombo = [];

            for (let combo of winningCombos) {
                const [a, b, c] = combo;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    roundWon = true;
                    winningCombo = combo;
                    break;
                }
            }

            if (roundWon) {
                gameActive = false;
                highlightWinningCells(winningCombo);
                showResultModal(`${currentPlayer} Wins!`);
                return;
            }

            if (!board.includes("")) {
                gameActive = false;
                showResultModal("It's a Draw!");
                return;
            }

            // If no win or draw, switch player
            switchPlayer();
        }
        
        /**
         * Switches the current player and updates the status display.
         */
        function switchPlayer() {
            currentPlayer = currentPlayer === "X" ? "O" : "X";
            updateStatus();
        }

        /**
         * Updates the status text to show whose turn it is.
         */
        function updateStatus() {
            statusText.classList.add('opacity-0');
            setTimeout(() => {
                statusText.innerHTML = `Turn: <span class="${currentPlayer === 'X' ? 'text-glow-x' : 'text-glow-o'}">${currentPlayer}</span>`;
                statusText.classList.remove('opacity-0');
            }, 200);
        }

        /**
         * Applies a glowing animation to the winning cells.
         * @param {number[]} combo - The array of winning cell indices.
         */
        function highlightWinningCells(combo) {
            combo.forEach(index => {
                cells[index].classList.add("winning-cell");
            });
        }
        
        /**
         * Displays the game over modal with a message.
         * @param {string} message - The message to display (e.g., "X Wins!").
         */
        function showResultModal(message) {
            resultMessage.textContent = message;
            if(message.includes("Wins")){
                const winner = message.split(' ')[0];
                resultModalBox.className = `bg-[#1a1a2e] border-2 ${winner === 'X' ? 'border-cyan-500' : 'border-pink-500'} shadow-lg ${winner === 'X' ? 'shadow-cyan-500/20' : 'shadow-pink-500/20'} rounded-xl p-8 text-center flex flex-col items-center gap-6`;
                resultMessage.className = `text-4xl font-bold ${winner === 'X' ? 'text-glow-x' : 'text-glow-o'}`;
                playAgain.className = `px-8 py-3 bg-transparent border-2 ${winner === 'X' ? 'border-cyan-500' : 'border-pink-500'} ${winner === 'X' ? 'text-cyan-500' : 'text-pink-500'} font-semibold rounded-lg ${winner === 'X' ? 'hover:bg-cyan-500' : 'hover:bg-pink-500'} hover:text-white transition-all duration-300 shadow-lg ${winner === 'X' ? 'shadow-cyan-500/20' : 'shadow-pink-500/20'}`;

            } else {
                resultModalBox.className = `bg-[#1a1a2e] border-2 border-green-500 shadow-lg shadow-green-500/20 rounded-xl p-8 text-center flex flex-col items-center gap-6`;
                resultMessage.className = 'text-4xl font-bold text-white';
                playAgain.className = `px-8 py-3 bg-transparent border-2 border-green-500 text-green-500 font-semibold rounded-lg hover:bg-green-500 hover:text-white transition-all duration-300 shadow-lg shadow-green-500/20`;
            }
            resultModal.classList.remove("hidden");
        }
        
        /**
         * Public function to be called by the 'Play Again' button.
         */
        function resetGame() {
            initializeGame();
        }

        // --- Event Listeners ---
        cells.forEach(cell => cell.addEventListener("click", handleCellClick));
        document.addEventListener('DOMContentLoaded', initializeGame);

    </script>
</body>

</html> 